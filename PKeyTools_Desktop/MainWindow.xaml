<Window x:Class="PKeyTools.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PKeyTools"
        mc:Ignorable="d" Background="{x:Null}" local:UseA.IsEnabled="True" Height="450" Width="800" Loaded="Window_Loaded" >

    <WindowChrome.WindowChrome>
        <WindowChrome GlassFrameThickness="0,60,0,0"  />
    </WindowChrome.WindowChrome>
    <Window.Resources>
        <DataTemplate x:Key="SelectConfigStyle">
            <Grid>
                <TextBlock Text="{Binding ConfigName}" TextWrapping="Wrap"/>
            </Grid>
        </DataTemplate>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="45"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        
        <StackPanel Background="#A0D3D3D3" Margin="0,0,150,0">
            <TextBlock Text="密钥检测工具 PKeyTool" HorizontalAlignment="Center" FontSize="14" Margin="0,10,0,0"/>
            <TextBlock Name="MsgTitle" FontSize="12" Margin="10,0,0,0"/>
        </StackPanel>
        <Grid Background="#A0F0FFFF" Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="130"/>
                <RowDefinition/>
                <RowDefinition Height="60" />
            </Grid.RowDefinitions>

            <StackPanel Margin="20">
                <TextBox Name="Test" TextWrapping="Wrap" TextChanged="Test_TextChanged" PreviewMouseUp="KeySelectBox_PreviewMouseUp"/>
                <Grid Margin="0,10,0,0" >
                    <ComboBox Name="SelectConfig" SelectedIndex="0" Margin="0,0,30,0" ItemTemplate="{StaticResource SelectConfigStyle}"/>
                    <Button Name="CheckOpt" Height="25" HorizontalAlignment="Right" Click="CheckOpt_Click" Background="LightBlue">
                        <Image Source="ICON\SandO.png"/>
                    </Button>
                </Grid>
                <Grid Margin="10">
                    <Button Name="ConfigManager" Content="证书管理" HorizontalAlignment="Right" Margin="0,0,60,0"  Click="ConfigManager_Click"/>
                    <Button Name="KeyManager" Content="密钥管理" HorizontalAlignment="Right" Click="KeyManager_Click"/>
                </Grid>
            </StackPanel>

            <Grid Grid.Row="1" Margin="20,0" >
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition Height="50" />
                </Grid.RowDefinitions>

                <Grid Name="Panel1">
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="200"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>


                    <TextBlock Text="PKey Config"/>
                    <TextBlock Text="产品名称"  Grid.Row="1"/>
                    <TextBlock Text="Edition ID" Grid.Row="2"/>
                    <TextBlock Text="ePID" Grid.Row="3"/>
                    <TextBlock Text="产品ID"  Grid.Row="4"/>
                    <TextBlock Text="SKU ID"  Grid.Row="5"/>
                    <TextBlock Text="授权类型"  Grid.Row="6"/>
                    <TextBlock Text="授权通道"  Grid.Row="7"/>
                    <TextBlock Text="Part Number"  Grid.Row="8"/>
                    <TextBlock Text="可用次数 / 错误代码" Foreground="Green"  Grid.Row="9"/>

                    <TextBox Name="KeyConfig" Background="{x:Null}"  Grid.Column="1" IsReadOnly="True" BorderThickness="0"/>
                    <TextBox Name="KeyProduN" Background="{x:Null}"  Grid.Row="1"  Grid.Column="1" IsReadOnly="True" BorderThickness="0"/>
                    <TextBox Name="KeyEdition" Background="{x:Null}" Grid.Row="2"  Grid.Column="1" IsReadOnly="True" BorderThickness="0"/>
                    <TextBox Name="ePID" Background="{x:Null}" Grid.Row="3"  Grid.Column="1" IsReadOnly="True" BorderThickness="0"/>
                    <TextBox Name="ProductID" Background="{x:Null}" Grid.Row="4"  Grid.Column="1" IsReadOnly="True" BorderThickness="0"/>
                    <TextBox Name="KeySKU" Background="{x:Null}" Grid.Row="5"  Grid.Column="1" IsReadOnly="True" BorderThickness="0"/>
                    <TextBox Name="LicenseType" Background="{x:Null}" Grid.Row="6"  Grid.Column="1" IsReadOnly="True" BorderThickness="0"/>
                    <TextBox Name="LicenseChannel" Background="{x:Null}" Grid.Row="7" Grid.Column="1" IsReadOnly="True" BorderThickness="0"/>
                    <TextBox Name="PartNum" Background="{x:Null}" Grid.Row="8" Grid.Column="1" IsReadOnly="True" BorderThickness="0"/>
                    <TextBox Name="ActiveCount" Background="{x:Null}" Foreground="Green" Grid.Row="9" Grid.Column="1" IsReadOnly="True" BorderThickness="0"/>
                </Grid>
                <Grid Name="Panel2" Visibility="Collapsed" >
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <TextBox Name="RawResult" TextWrapping="Wrap" IsReadOnly="True" BorderThickness="1" Background="Transparent"/>
                    </ScrollViewer>
                </Grid>

                <StackPanel Name="TestPanel" Visibility="Collapsed">
                    <CheckBox Name="coOEM" Content="尝试检测OEM密钥的次数，前提是此OEM密钥支持计数"/>
                    <TextBlock TextWrapping="Wrap">仅限OEM。 </TextBlock>
                    <CheckBox Name="coMAKCode" Content="检测MAK密钥的错误代码，适用于一些必须通过错误代码才能判定是否有效的MAK" Margin="0,20,0,0"/>
                    <TextBlock TextWrapping="Wrap">
                        仅限MAK。<LineBreak/>注意：在线密钥每检测一次错误代码就会耗费一次实际激活次数！介意请勿勾选！
                    </TextBlock>
                    <!--
                                        <CheckBox Name="coValid" Content="检测时不通过已封密钥数据库查询其是否被封" Margin="0,20,0,0"/>
                    <TextBlock TextWrapping="Wrap">
                        适用于检测复活的密钥，不建议非MAK密钥勾选此项。
                    </TextBlock>
                    -->
                    <CheckBox Name="coSimp" Content="只获取密钥的信息，不检测次数或错误码" Margin="0,20,0,0"/>
                    <TextBlock TextWrapping="Wrap">
                        如勾选此项，则选项1和2将不会起作用。
                    </TextBlock>
                </StackPanel>

                <StackPanel Grid.Row="1" Margin="0,20,0,0" >
                    <Button Name="CopyBtn" Height="25" HorizontalAlignment="Right" VerticalAlignment="Bottom"  Click="CopyBtn_Click">
                        <Image Source="ICON\CopyAll.png"/>
                    </Button>
                </StackPanel>
            </Grid>

            <Button Name="About" Height="30" Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,20,20" Click="About_Click">
                <Image Source="ICON\About.png"/>
            </Button>
        </Grid>
    </Grid>
</Window>
